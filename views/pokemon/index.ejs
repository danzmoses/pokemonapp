<% function capitalizeFirstChar(string) {
    return string.charAt(0).toUpperCase() + string.slice(1)
} %>

<!-- <a href="/pokemon">Pokemon</a> -->
<div>
    <form action="/pokemon" method="GET">
        <input type="hidden" id="prevRegion" value="<%= prevRegion %>">
        <input type="text" name="name" value="<%= searchOptions %>">
        <button type="submit">Search</button>
        <select id="generation" name="generation">
            <option value="1">Kanto</option>
            <option value="2">Johto</option>
            <option value="3">Hoenn</option>
            <option value="4">Sinnoh</option>
            <option value="5">Unova</option>
            <option value="6">Kalos</option>
            <option value="7">Alola</option>
            <option value="8">Galar</option>
        </select>
    </form>
    <br>
    <div class="pokemon-grid">
        <% pokemon.forEach(p => { %>
                <div>
                    <div class="sprite-frame">
                        <a href='/pokemon/<%= p.name %>'>
                            <img src="<%= p['sprites']['front_default'] %>">
                        </a>                      
                    </div>  
                    <p style="position: relative; top: -10px;"><%= capitalizeFirstChar(p['name']) %></p>
                </div>               
        <% }) %>
    </div>        
</div>
<script>
    var dropdown = document.getElementById("generation");
    var prevRegion = document.getElementById("prevRegion");
    if (prevRegion.value !== '')
        dropdown.value = prevRegion.value;
</script>